<!DOCTYPE html>
<div ng-app="quizApp" xmlns="http://www.w3.org/1999/xhtml" lang="ru-RU"/>
<head lang="ru">
    <meta charset="UTF-8">
    <title>Book-Quiz</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <link rel="stylesheet" href="css/main.css" type="text/css"/>
</head>
<body>
<div ng-controller="quizBasicController">
    <p>File status: {{readstatus}}</p>
    <h2>{{title}}</h2>
    <form name="quiz">
        <div ng-repeat="question in quiz">
            <strong>{{question._id}}.{{question.question}}</strong>
            <!-- create the true/false radio button for each question-->

            <br/>
            <div class="radio">
                <input required
                       name="_id{{question._id}}"
                       type="radio"
                       value="true"
                       ng-model="question.userChoice"
                       ng-change="$parent.checkUserChoice(question._id, true)"/>
                <label for="_id{{question._id}}">{{constants.YES}}</label>
                <br/>
                <input required
                       name="_id{{question._id}}"
                       type="radio"
                       value="false"
                       ng-model="question.userChoice"
                       ng-change="$parent.checkUserChoice(question._id,false)"/>
                <label for="_id{{question._id}}">{{constants.NO}}</label>
            </div>
            <br/>
        </div>
        <!--<div ng-repeat="result in results">-->
        <!--<p>{{result._id}}.{{result.answer}}</p>-->
        <!--</div>-->
    </form>

    <hr/>
    <!--results section-->
    <div ng-init="showAnswers=true">
        <button ng-click="showAnswers=checkQuizCompleted()">Show results</button>
        <br/>
        <br/>
        <div ng-hide="showAnswers">
            <strong>Results</strong>
            <div ng-repeat="result in results">
                {{result._id}}. <span
                    ng-class="result.correct == constants.CORRECT ? 'correct' : 'incorrect'">
               {{result.correct}}
               </span>
            </div>
            <p><strong>Points: </strong><span ng-class="'results'">{{pointsEarned}}/{{pointsToEarn}}</span></p>
        </div>

    </div>
</div>
</body>
<script src="js/app.js" type="text/javascript"></script>
<script src="js/factories/quizBasicFactory.js" type="text/javascript"></script>
<script src="js/controllers/quizBasicController.js" type="text/javascript"></script>
<script src="js/constants/quizConstants.js" type="text/javascript"></script>
</html>